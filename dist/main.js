!function(){"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var t,n,o=document.getElementById("btn"),r=document.getElementById("header__wrap"),s=document.getElementById("header"),c=o.children,a=s.getElementsByClassName("gnav__link"),i=window.matchMedia("screen and (max-width: 1025px)");function l(e){var t={root:null,rootMargin:"0px 0px -40%",threshold:.1},r=new IntersectionObserver((function(t,n){t.forEach((function(t){var o=t.target;e.matches?n.unobserve(o):t.isIntersecting&&function(e){!0===e.classList.contains("bg-b")?(i.classList.add("change-b"),l.classList.add("change-c"),u.forEach((function(e){e.classList.add("change-c")}))):(i.classList.remove("change-b"),l.classList.remove("change-c"),u.forEach((function(e){e.classList.remove("change-c")})))}(t.target)}))}),t),s=new IntersectionObserver((function(t,n){t.forEach((function(t){var o=t.target;e.matches&&(t.target,i.classList.remove("change-b"),l.classList.remove("change-c"),u.forEach((function(e){e.classList.remove("change-c")})),n.unobserve(o))}))}),t),c=document.querySelectorAll("section, #top"),i=document.querySelector("#header"),l=document.querySelector("#smalls"),u=document.querySelectorAll(".gnav__link");if(e.matches){c.forEach((function(e){s.observe(e)}));for(var f=0;f<a.length;f++)$(a[f]).off("click");o.addEventListener("click",d,!1)}else{c.forEach((function(e){return r.observe(e)})),o.removeEventListener("click",d,!1);for(var m=function(t){$(a[t]).off("click"),$(a[t]).on("click",(function(o){o.preventDefault(),o.stopPropagation();var r=a[t].getAttribute("href"),s=document.getElementById(r.replace("#","")).getBoundingClientRect().top+(n=window.pageYOffset);e.matches||window.scrollTo({top:s,behavior:"smooth"})}))},g=0;g<a.length;g++)m(g)}return!1}function d(e){e.stopPropagation(),(t=document.body).classList.contains("fixed-b")?t.classList.contains("fixed-b")&&($("body").removeClass("fixed-b"),r.classList.remove("btn-slide"),s.classList.remove("gnv-bg"),c[0].classList.remove("btn-top"),c[1].classList.remove("btn-bottom"),window.scrollTo(0,n)):(n=window.pageYOffset,$("body").addClass("fixed-b").css({top:-1*n}),r.classList.add("btn-slide"),s.classList.add("gnv-bg"),c[0].classList.add("btn-top"),c[1].classList.add("btn-bottom"));for(var o=function(t){$(a[t]).off("click"),$(a[t]).on("click",(function(){e.preventDefault();var o=a[t].getAttribute("href"),i=document.getElementById(o.replace("#","")).getBoundingClientRect().top+n,l=s.clientHeight;return $("body").removeClass("fixed-b"),r.classList.remove("btn-slide"),s.classList.remove("gnv-bg"),c[0].classList.remove("btn-top"),c[1].classList.remove("btn-bottom"),window.scrollTo({top:i-l}),!1}))},i=0;i<a.length;i++)o(i);return!1}function u(e,t){var n=new IntersectionObserver((function(e,n){e.forEach((function(e){var o=e.target;e.isIntersecting&&(o.classList.add(t),n.unobserve(o))}))}),{root:null,rootMargin:"-20% 0%",threshold:null});document.querySelectorAll(e).forEach((function(e){return n.observe(e)}))}var f,m,g,h,v,p,b,y,w=$("body"),L=$("html, body"),E=$("#logo");f=document,g={kitId:"iqt4nvz",scriptTimeout:3e3,async:!0},h=f.documentElement,v=setTimeout((function(){h.className=h.className.replace(/\bwf-loading\b/g,"")+" wf-inactive"}),g.scriptTimeout),p=f.createElement("script"),b=!1,y=f.getElementsByTagName("script")[0],h.className+=" wf-loading",p.src="https://use.typekit.net/"+g.kitId+".js",p.async=!0,p.onload=p.onreadystatechange=function(){if(m=this.readyState,!(b||m&&"complete"!=m&&"loaded"!=m)){b=!0,clearTimeout(v);try{Typekit.load(g)}catch(e){}}},y.parentNode.insertBefore(p,y),window.onload=function(){w.delay(1200).queue((function(){$(this).addClass("op-static")})),E.delay(2650).queue((function(){$(this).addClass("op-logo-op")})),$("#opening").delay(2900).queue((function(){$(this).addClass("op-none")})),$(".opening__wrap").delay(2900).queue((function(){$(this).addClass("op-none")})),u(".e-item","fade-in"),u(".e-ttl","fade-in-ttl"),function(){for(var t={root:null,rootMargin:"-20% 0%",threshold:null},n=new IntersectionObserver((function(e,t){e.forEach((function(e){var n=e.target;e.isIntersecting&&(n.classList.add("slide-in"),t.unobserve(n))}))}),t),o=new IntersectionObserver((function(e,t){e.forEach((function(e){var n=e.target;e.isIntersecting&&setTimeout((function(){n.classList.add("slide-in"),t.unobserve(n)}),200)}))}),t),r=function(t){if(Array.isArray(t))return e(t)}(i=document.getElementById("modal").children)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?e(t,n):void 0}}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),s=[],c=[],a=0;a<r.length;a++)a%2==0||0==a?s.push(r[a]):c.push(r[a]);var i;s.forEach((function(e){return n.observe(e)})),c.forEach((function(e){return o.observe(e)}))}(),$("#modal").on("click",".works__pic",(function(e){var t=$(this).data("modal"),n=$(window).scrollTop();w.addClass("fixed-b").css({top:-n}),$(t).fadeIn(400,(function(){$(this).off("click"),$(this).on("click",(function(e){$(this).fadeOut(400),$(t).scrollTop()>0&&setTimeout((function(){$(t).scrollTop(0),console.log("初期化!")}),400),w.removeClass("fixed-b"),$(window).scrollTop(n),e.stopPropagation()}))}))})),E.on("click",".header__link",(function(e){L.animate({scrollTop:0},1e3,"swing"),e.stopPropagation()})),l(i)},i.addEventListener("change",(function(e){e.stopPropagation(),l(i)}),!1)}();
//# sourceMappingURL=main.js.map